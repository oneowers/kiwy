{"ast":null,"code":"import{MagnifyingGlassIcon}from'@heroicons/react/24/outline';import{Link}from'react-router-dom';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Example(_ref){let{style}=_ref;const[searchTerm,setSearchTerm]=useState('');const[searchResults,setSearchResults]=useState([]);const[isDropdownVisible,setIsDropdownVisible]=useState(false);useEffect(()=>{if(searchTerm.trim()===''){setSearchResults([]);return;}// Make API call with the search term\nfetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/api/products/?name=\").concat(searchTerm)).then(response=>response.json()).then(data=>setSearchResults(data)).catch(error=>console.error('Error fetching search results:',error));},[searchTerm]);const handleInputChange=event=>{setSearchTerm(event.target.value);setIsDropdownVisible(true);};const handleInputBlur=()=>{// Delay hiding the dropdown to allow the click event on the dropdown item to trigger first\nsetTimeout(()=>{setIsDropdownVisible(false);},200);};if(style==='small'){return/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"ml-2 p-2 text-gray-400 hover:text-gray-500 z-10\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Search\"}),/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-6 w-6\",\"aria-hidden\":\"true\"})]});}else if(style==='large'){return/*#__PURE__*/_jsx(\"div\",{className:\"hidden lg:flex relative z-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-1 items-center justify-center px-2 lg:ml-6 lg:justify-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-lg lg:max-w-xs relative\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"search\",className:\"sr-only\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3\",children:/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 text-gray-400\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"input\",{id:\"search\",name:\"search\",value:searchTerm,onChange:handleInputChange,onBlur:handleInputBlur,className:\"focus:ring-indigo-700 focus:outline-none\\r block w-full rounded-md border-0 bg-white\\r py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset\\r ring-gray-300 placeholder:text-gray-400 focus:ring-2\\r sm:text-sm\\r sm:leading-6\",placeholder:\"Search\",type:\"search\"})]}),isDropdownVisible&&searchTerm!==''&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute mt-2 bg-white border border-gray-200 rounded-md shadow-lg z-100 w-full\",children:searchResults.length>0?searchResults.map(result=>/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(result.id),children:result.name})},result.id)):[1,2,3].map(result=>/*#__PURE__*/_jsx(\"div\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"py-5 rounded animate-pulse bg-gray-200\"})},result))})]})})});}}","map":{"version":3,"names":["MagnifyingGlassIcon","Link","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Example","_ref","style","searchTerm","setSearchTerm","searchResults","setSearchResults","isDropdownVisible","setIsDropdownVisible","trim","fetch","concat","process","env","REACT_APP_API_BASE_URL","then","response","json","data","catch","error","console","handleInputChange","event","target","value","handleInputBlur","setTimeout","to","className","children","htmlFor","id","name","onChange","onBlur","placeholder","type","length","map","result"],"sources":["/Users/muhammadkamolov/Downloads/knox_mkp/kiwy_01/src/pages/header/defaultMenu.jsx"],"sourcesContent":["import { MagnifyingGlassIcon } from '@heroicons/react/24/outline';\r\nimport { Link } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function Example({ style }) {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isDropdownVisible, setIsDropdownVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (searchTerm.trim() === '') {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    // Make API call with the search term\r\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/api/products/?name=${searchTerm}`)\r\n      .then((response) => response.json())\r\n      .then((data) => setSearchResults(data))\r\n      .catch((error) => console.error('Error fetching search results:', error));\r\n  }, [searchTerm]);\r\n\r\n  const handleInputChange = (event) => {\r\n    setSearchTerm(event.target.value);\r\n    setIsDropdownVisible(true);\r\n  };\r\n\r\n  const handleInputBlur = () => {\r\n    // Delay hiding the dropdown to allow the click event on the dropdown item to trigger first\r\n    setTimeout(() => {\r\n      setIsDropdownVisible(false);\r\n    }, 200);\r\n  };\r\n\r\n  if (style === 'small') {\r\n    return (\r\n      <Link to=\"/\" className=\"ml-2 p-2 text-gray-400 hover:text-gray-500 z-10\">\r\n        <span className=\"sr-only\">Search</span>\r\n        <MagnifyingGlassIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n      </Link>\r\n    );\r\n  } else if (style === 'large') {\r\n    return (\r\n      <div className=\"hidden lg:flex relative z-10\">\r\n        <div className=\"flex flex-1 items-center justify-center px-2 lg:ml-6 lg:justify-end\">\r\n          <div className=\"w-full max-w-lg lg:max-w-xs relative\">\r\n            <label htmlFor=\"search\" className=\"sr-only\">\r\n              Search\r\n            </label>\r\n            <div className=\"relative\">\r\n              <div className=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3\">\r\n                <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\r\n              </div>\r\n              <input\r\n                id=\"search\"\r\n                name=\"search\"\r\n                value={searchTerm}\r\n                onChange={handleInputChange}\r\n                onBlur={handleInputBlur}\r\n                className=\"focus:ring-indigo-700 focus:outline-none\r\n                        block w-full rounded-md border-0 bg-white\r\n                        py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset\r\n                        ring-gray-300 placeholder:text-gray-400 focus:ring-2\r\n                        sm:text-sm\r\n                        sm:leading-6\"\r\n                placeholder=\"Search\"\r\n                type=\"search\"\r\n              />\r\n            </div>\r\n            {/* Display search results */}\r\n            {isDropdownVisible && searchTerm !== '' && (\r\n              <div className=\"absolute mt-2 bg-white border border-gray-200 rounded-md shadow-lg z-100 w-full\">\r\n                {searchResults.length > 0 ? (\r\n                  searchResults.map((result) => (\r\n                    <div key={result.id} className=\"p-2\">\r\n                      <Link to={`/product/${result.id}`}>{result.name}</Link>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  [1, 2, 3].map((result) => (\r\n                    <div key={result} className=\"p-2\">\r\n                      <p className=\"py-5 rounded animate-pulse bg-gray-200\"></p>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAASA,mBAAmB,KAAQ,6BAA6B,CACjE,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAY,IAAX,CAAEC,KAAM,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACW,aAAa,CAAEC,gBAAgB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACa,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAEjEC,SAAS,CAAC,IAAM,CACd,GAAIQ,UAAU,CAACM,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC5BH,gBAAgB,CAAC,EAAE,CAAC,CACpB,OACF,CAEA;AACAI,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,sBAAsB,yBAAAH,MAAA,CAAuBR,UAAU,CAAE,CAAC,CAC5EY,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAKZ,gBAAgB,CAACY,IAAI,CAAC,CAAC,CACtCC,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CAAC,CAC7E,CAAC,CAAE,CAACjB,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAmB,iBAAiB,CAAIC,KAAK,EAAK,CACnCnB,aAAa,CAACmB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACjCjB,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAkB,eAAe,CAAGA,CAAA,GAAM,CAC5B;AACAC,UAAU,CAAC,IAAM,CACfnB,oBAAoB,CAAC,KAAK,CAAC,CAC7B,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAED,GAAIN,KAAK,GAAK,OAAO,CAAE,CACrB,mBACEH,KAAA,CAACN,IAAI,EAACmC,EAAE,CAAC,GAAG,CAACC,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eACtEjC,IAAA,SAAMgC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cACvCjC,IAAA,CAACL,mBAAmB,EAACqC,SAAS,CAAC,SAAS,CAAC,cAAY,MAAM,CAAE,CAAC,EAC1D,CAAC,CAEX,CAAC,IAAM,IAAI3B,KAAK,GAAK,OAAO,CAAE,CAC5B,mBACEL,IAAA,QAAKgC,SAAS,CAAC,8BAA8B,CAAAC,QAAA,cAC3CjC,IAAA,QAAKgC,SAAS,CAAC,qEAAqE,CAAAC,QAAA,cAClF/B,KAAA,QAAK8B,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnDjC,IAAA,UAAOkC,OAAO,CAAC,QAAQ,CAACF,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,QAE5C,CAAO,CAAC,cACR/B,KAAA,QAAK8B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBjC,IAAA,QAAKgC,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnFjC,IAAA,CAACL,mBAAmB,EAACqC,SAAS,CAAC,uBAAuB,CAAC,cAAY,MAAM,CAAE,CAAC,CACzE,CAAC,cACNhC,IAAA,UACEmC,EAAE,CAAC,QAAQ,CACXC,IAAI,CAAC,QAAQ,CACbR,KAAK,CAAEtB,UAAW,CAClB+B,QAAQ,CAAEZ,iBAAkB,CAC5Ba,MAAM,CAAET,eAAgB,CACxBG,SAAS,CAAC,6NAKW,CACrBO,WAAW,CAAC,QAAQ,CACpBC,IAAI,CAAC,QAAQ,CACd,CAAC,EACC,CAAC,CAEL9B,iBAAiB,EAAIJ,UAAU,GAAK,EAAE,eACrCN,IAAA,QAAKgC,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC7FzB,aAAa,CAACiC,MAAM,CAAG,CAAC,CACvBjC,aAAa,CAACkC,GAAG,CAAEC,MAAM,eACvB3C,IAAA,QAAqBgC,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClCjC,IAAA,CAACJ,IAAI,EAACmC,EAAE,aAAAjB,MAAA,CAAc6B,MAAM,CAACR,EAAE,CAAG,CAAAF,QAAA,CAAEU,MAAM,CAACP,IAAI,CAAO,CAAC,EAD/CO,MAAM,CAACR,EAEZ,CACN,CAAC,CAEF,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACO,GAAG,CAAEC,MAAM,eACnB3C,IAAA,QAAkBgC,SAAS,CAAC,KAAK,CAAAC,QAAA,cAC/BjC,IAAA,MAAGgC,SAAS,CAAC,wCAAwC,CAAI,CAAC,EADlDW,MAEL,CACN,CACF,CACE,CACN,EACE,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}