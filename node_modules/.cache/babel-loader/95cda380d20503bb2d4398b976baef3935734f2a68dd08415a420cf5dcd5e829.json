{"ast":null,"code":"import{useNavigate,Link}from'react-router-dom';import React from'react';import{StarIcon}from'@heroicons/react/20/solid';import Modal from'./test.jsx';import Cookies from'js-cookie';import Skeleton from'react-loading-skeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function classNames(){for(var _len=arguments.length,classes=new Array(_len),_key=0;_key<_len;_key++){classes[_key]=arguments[_key];}return classes.filter(Boolean).join(' ');}function formatPrice(price){if(price==null)return 0;const priceString=price.toString();const parts=priceString.split('.');const formattedPrice=parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g,' ');if(parts[1]){return\"\".concat(formattedPrice,\".\").concat(parts[1]);}else{return formattedPrice;}}export default function Cards(_ref){let{products}=_ref;const navigate=useNavigate();const handleCategoryClick=categoryId=>{const category_id=categoryId!=null?categoryId:'';// If categoryId is null, use an empty string\nnavigate(\"/products?data=\".concat(encodeURIComponent(JSON.stringify({category_id}))));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden lg:pb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"-mx-px grid grid-cols-2 sm:mx-0 md:grid-cols-3 lg:grid-cols-4 space-x-3\",children:products?products.map(product=>product.is_published&&product.characteristics[0]!=null?/*#__PURE__*/_jsxs(\"div\",{className:\"group fade-in hover:shadow-lg rounded-lg duration-150\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aspect-h-1 aspect-w-1 overflow-hidden rounded-lg hover:rounded-b-none  bg-gray-200\\r \",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\"+product.id,children:product.characteristics[0].images.length!=0?/*#__PURE__*/_jsx(\"img\",{src:product.characteristics[0].images[0].middle,className:\" fade-in duration-150 hover:scale-105  w-full h-64 object-cover bg-center\"}):/*#__PURE__*/_jsx(\"div\",{className:\"animate-pulse bg-gray-200 w-full h-64\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 pb-4 pt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-base text-gray-900\",children:/*#__PURE__*/_jsxs(Link,{to:\"/product/\"+product.id,children:[product.name,/*#__PURE__*/_jsx(\"span\",{className:\"placeholder col-6\"})]})}),/*#__PURE__*/_jsx(\"h4\",{className:classNames(Cookies.get('user_id')!=product.seller.user||true?\"text-sm text-blue-800\":\"text-sm text-white bg-blue-800\"),children:/*#__PURE__*/_jsx(Link,{to:\"/seller/\"+product.seller.id,children:product.seller.store_name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2\",children:[/*#__PURE__*/_jsx(StarIcon,{className:'text-yellow-400 h-4 w-4 flex-shrink-0',\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-1 text-sm text-gray-500\",children:[product.rating,\" out of 5 stars\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:product.characteristics[0].discount_price!=0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"del\",{className:\"mt-1 text-sm text-gray-400 \",children:[formatPrice(product.characteristics[0].price),\"\\u0441\\u0443\\u043C\"]}),/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg text-lg font-bold text-gray-700 \",children:[formatPrice(product.characteristics[0].discount_price),\" \\u0441\\u0443\\u043C\"]})]}):/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg text-lg font-bold text-gray-700 \",children:[formatPrice(product.characteristics[0].price),\" \\u0441\\u0443\\u043C\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4 flex-shrink-0\",children:/*#__PURE__*/_jsx(Modal,{product:product.characteristics,product_id:product.id})})]})})]})]},product.id):/*#__PURE__*/_jsx(_Fragment,{})):[1,2,3,4].map(()=>/*#__PURE__*/_jsx(\"div\",{className:\"aspect-h-1 m-2 aspect-w-1 overflow-hidden rounded-lg group-hover:opacity-90\",children:/*#__PURE__*/_jsx(\"div\",{className:\" animate-pulse h-96 w-full bg-gray-200\"})}))})})});}","map":{"version":3,"names":["useNavigate","Link","React","StarIcon","Modal","Cookies","Skeleton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","classNames","_len","arguments","length","classes","Array","_key","filter","Boolean","join","formatPrice","price","priceString","toString","parts","split","formattedPrice","replace","concat","Cards","_ref","products","navigate","handleCategoryClick","categoryId","category_id","encodeURIComponent","JSON","stringify","children","className","map","product","is_published","characteristics","to","id","images","src","middle","name","get","seller","user","store_name","rating","discount_price","product_id"],"sources":["/Users/muhammadkamolov/Downloads/knox_mkp/kiwy_01/src/pages/products.jsx"],"sourcesContent":["import { useNavigate, Link} from 'react-router-dom'\r\n\r\nimport React from 'react'\r\nimport {StarIcon} from '@heroicons/react/20/solid'\r\nimport Modal from './test.jsx'\r\nimport Cookies from 'js-cookie';\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nfunction classNames(...classes) {\r\nreturn classes.filter(Boolean).join(' ')\r\n}\r\n\r\n\r\nfunction formatPrice(price) {\r\nif (price == null) return 0\r\nconst priceString = price.toString();\r\nconst parts = priceString.split('.');\r\nconst formattedPrice = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\r\nif (parts[1]) {\r\nreturn `${formattedPrice}.${parts[1]}`;\r\n} else {\r\nreturn formattedPrice;\r\n}\r\n}\r\n\r\n\r\nexport default function Cards({products}){\r\n    const navigate = useNavigate();\r\n\r\n\r\n  const handleCategoryClick = (categoryId) => {\r\n    const category_id = categoryId != null ? categoryId : ''; // If categoryId is null, use an empty string\r\n    navigate(`/products?data=${encodeURIComponent(JSON.stringify({ category_id }))}`);\r\n};\r\n\r\n\r\nreturn (\r\n<>\r\n\r\n    <div className=\"overflow-hidden lg:pb-5\">\r\n        <div className=\"-mx-px grid grid-cols-2 sm:mx-0 md:grid-cols-3 lg:grid-cols-4 space-x-3\">\r\n        {products ? products.map((product) => (product.is_published && product.characteristics[0] != null ? (\r\n        <div key={product.id} className=\"group fade-in hover:shadow-lg rounded-lg duration-150\">\r\n            <div className=\"aspect-h-1 aspect-w-1 overflow-hidden rounded-lg hover:rounded-b-none  bg-gray-200\r\n                            \">\r\n                <Link to={\"/product/\" + product.id}>\r\n                    {product.characteristics[0].images.length != 0 ? (\r\n                <img src={product.characteristics[0].images[0].middle} className=\" fade-in duration-150 hover:scale-105  w-full h-64 object-cover bg-center\" />):\r\n                (<div className=\"animate-pulse bg-gray-200 w-full h-64\"></div>)}\r\n                </Link>\r\n            </div>\r\n            <div className=\"px-3 pb-4 pt-5\">\r\n                <h3 className=\"text-base text-gray-900\">\r\n                    <Link to={\"/product/\" + product.id}>\r\n                    {product.name}\r\n                    <span className=\"placeholder col-6\"></span>\r\n                    </Link>\r\n                </h3>\r\n\r\n                <h4 className={classNames(\r\n                    Cookies.get('user_id') != product.seller.user || true ? \"text-sm text-blue-800\" : \"text-sm text-white bg-blue-800\"\r\n                    )\r\n                    } >\r\n                    <Link to={\"/seller/\" + product.seller.id}>\r\n                    {product.seller.store_name}\r\n                    </Link>\r\n                </h4>\r\n                <div className=\"flex items-center mt-2\">\r\n                    <StarIcon className={'text-yellow-400 h-4 w-4 flex-shrink-0'} aria-hidden=\"true\" />\r\n                    <p className=\"ml-1 text-sm text-gray-500\">{product.rating} out\r\n                        of 5 stars</p>\r\n                </div>\r\n\r\n                <div className=\"mt-2\">\r\n                    <div className=\"flex flex-wrap items-center justify-between\">\r\n                        <div>\r\n                            {product.characteristics[0].discount_price != 0 ? (\r\n                            <>\r\n                                <del className=\"mt-1 text-sm text-gray-400 \">{formatPrice(product.characteristics[0].price)}\r\n                                    сум\r\n                                </del>\r\n                                <h4 className=\"text-lg text-lg font-bold text-gray-700 \">\r\n                                    {formatPrice(product.characteristics[0].discount_price)} сум</h4>\r\n                            </>\r\n                            ) : (\r\n                            <h4 className=\"text-lg text-lg font-bold text-gray-700 \">\r\n                                {formatPrice(product.characteristics[0].price)} сум</h4>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"ml-4 flex-shrink-0\">\r\n                            <Modal product={product.characteristics} product_id={product.id} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        ) : (\r\n        <></>\r\n        )\r\n        )\r\n        ) : (\r\n            [1, 2, 3, 4].map(() => (\r\n                <div className=\"aspect-h-1 m-2 aspect-w-1 overflow-hidden rounded-lg group-hover:opacity-90\">\r\n                    <div className=\" animate-pulse h-96 w-full bg-gray-200\"></div>\r\n                </div>\r\n            ))\r\n        )}\r\n        </div>\r\n    </div>\r\n</>\r\n)\r\n}\r\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,IAAI,KAAO,kBAAkB,CAEnD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,QAAQ,KAAO,2BAA2B,CAClD,MAAO,CAAAC,KAAK,KAAM,YAAY,CAC9B,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7C,QAAS,CAAAC,UAAUA,CAAA,CAAa,SAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAATC,OAAO,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAPF,OAAO,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,GAC9B,MAAO,CAAAF,OAAO,CAACG,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CACxC,CAGA,QAAS,CAAAC,WAAWA,CAACC,KAAK,CAAE,CAC5B,GAAIA,KAAK,EAAI,IAAI,CAAE,MAAO,EAAC,CAC3B,KAAM,CAAAC,WAAW,CAAGD,KAAK,CAACE,QAAQ,CAAC,CAAC,CACpC,KAAM,CAAAC,KAAK,CAAGF,WAAW,CAACG,KAAK,CAAC,GAAG,CAAC,CACpC,KAAM,CAAAC,cAAc,CAAGF,KAAK,CAAC,CAAC,CAAC,CAACG,OAAO,CAAC,uBAAuB,CAAE,GAAG,CAAC,CACrE,GAAIH,KAAK,CAAC,CAAC,CAAC,CAAE,CACd,SAAAI,MAAA,CAAUF,cAAc,MAAAE,MAAA,CAAIJ,KAAK,CAAC,CAAC,CAAC,EACpC,CAAC,IAAM,CACP,MAAO,CAAAE,cAAc,CACrB,CACA,CAGA,cAAe,SAAS,CAAAG,KAAKA,CAAAC,IAAA,CAAY,IAAX,CAACC,QAAQ,CAAC,CAAAD,IAAA,CACpC,KAAM,CAAAE,QAAQ,CAAGnC,WAAW,CAAC,CAAC,CAGhC,KAAM,CAAAoC,mBAAmB,CAAIC,UAAU,EAAK,CAC1C,KAAM,CAAAC,WAAW,CAAGD,UAAU,EAAI,IAAI,CAAGA,UAAU,CAAG,EAAE,CAAE;AAC1DF,QAAQ,mBAAAJ,MAAA,CAAmBQ,kBAAkB,CAACC,IAAI,CAACC,SAAS,CAAC,CAAEH,WAAY,CAAC,CAAC,CAAC,CAAE,CAAC,CACrF,CAAC,CAGD,mBACA9B,IAAA,CAAAI,SAAA,EAAA8B,QAAA,cAEIlC,IAAA,QAAKmC,SAAS,CAAC,yBAAyB,CAAAD,QAAA,cACpClC,IAAA,QAAKmC,SAAS,CAAC,yEAAyE,CAAAD,QAAA,CACvFR,QAAQ,CAAGA,QAAQ,CAACU,GAAG,CAAEC,OAAO,EAAMA,OAAO,CAACC,YAAY,EAAID,OAAO,CAACE,eAAe,CAAC,CAAC,CAAC,EAAI,IAAI,cACjGrC,KAAA,QAAsBiC,SAAS,CAAC,uDAAuD,CAAAD,QAAA,eACnFlC,IAAA,QAAKmC,SAAS,CAAC,uFACE,CAAAD,QAAA,cACblC,IAAA,CAACP,IAAI,EAAC+C,EAAE,CAAE,WAAW,CAAGH,OAAO,CAACI,EAAG,CAAAP,QAAA,CAC9BG,OAAO,CAACE,eAAe,CAAC,CAAC,CAAC,CAACG,MAAM,CAAClC,MAAM,EAAI,CAAC,cAClDR,IAAA,QAAK2C,GAAG,CAAEN,OAAO,CAACE,eAAe,CAAC,CAAC,CAAC,CAACG,MAAM,CAAC,CAAC,CAAC,CAACE,MAAO,CAACT,SAAS,CAAC,2EAA2E,CAAE,CAAC,cAC9InC,IAAA,QAAKmC,SAAS,CAAC,uCAAuC,CAAM,CAAE,CACzD,CAAC,CACN,CAAC,cACNjC,KAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC3BlC,IAAA,OAAImC,SAAS,CAAC,yBAAyB,CAAAD,QAAA,cACnChC,KAAA,CAACT,IAAI,EAAC+C,EAAE,CAAE,WAAW,CAAGH,OAAO,CAACI,EAAG,CAAAP,QAAA,EAClCG,OAAO,CAACQ,IAAI,cACb7C,IAAA,SAAMmC,SAAS,CAAC,mBAAmB,CAAO,CAAC,EACrC,CAAC,CACP,CAAC,cAELnC,IAAA,OAAImC,SAAS,CAAE9B,UAAU,CACrBR,OAAO,CAACiD,GAAG,CAAC,SAAS,CAAC,EAAIT,OAAO,CAACU,MAAM,CAACC,IAAI,EAAI,IAAI,CAAG,uBAAuB,CAAG,gCAClF,CACC,CAAAd,QAAA,cACDlC,IAAA,CAACP,IAAI,EAAC+C,EAAE,CAAE,UAAU,CAAGH,OAAO,CAACU,MAAM,CAACN,EAAG,CAAAP,QAAA,CACxCG,OAAO,CAACU,MAAM,CAACE,UAAU,CACpB,CAAC,CACP,CAAC,cACL/C,KAAA,QAAKiC,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACnClC,IAAA,CAACL,QAAQ,EAACwC,SAAS,CAAE,uCAAwC,CAAC,cAAY,MAAM,CAAE,CAAC,cACnFjC,KAAA,MAAGiC,SAAS,CAAC,4BAA4B,CAAAD,QAAA,EAAEG,OAAO,CAACa,MAAM,CAAC,iBAC5C,EAAG,CAAC,EACjB,CAAC,cAENlD,IAAA,QAAKmC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBhC,KAAA,QAAKiC,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eACxDlC,IAAA,QAAAkC,QAAA,CACKG,OAAO,CAACE,eAAe,CAAC,CAAC,CAAC,CAACY,cAAc,EAAI,CAAC,cAC/CjD,KAAA,CAAAE,SAAA,EAAA8B,QAAA,eACIhC,KAAA,QAAKiC,SAAS,CAAC,6BAA6B,CAAAD,QAAA,EAAEnB,WAAW,CAACsB,OAAO,CAACE,eAAe,CAAC,CAAC,CAAC,CAACvB,KAAK,CAAC,CAAC,oBAE5F,EAAK,CAAC,cACNd,KAAA,OAAIiC,SAAS,CAAC,0CAA0C,CAAAD,QAAA,EACnDnB,WAAW,CAACsB,OAAO,CAACE,eAAe,CAAC,CAAC,CAAC,CAACY,cAAc,CAAC,CAAC,qBAAI,EAAI,CAAC,EACvE,CAAC,cAEHjD,KAAA,OAAIiC,SAAS,CAAC,0CAA0C,CAAAD,QAAA,EACnDnB,WAAW,CAACsB,OAAO,CAACE,eAAe,CAAC,CAAC,CAAC,CAACvB,KAAK,CAAC,CAAC,qBAAI,EAAI,CAC1D,CACA,CAAC,cACNhB,IAAA,QAAKmC,SAAS,CAAC,oBAAoB,CAAAD,QAAA,cAC/BlC,IAAA,CAACJ,KAAK,EAACyC,OAAO,CAAEA,OAAO,CAACE,eAAgB,CAACa,UAAU,CAAEf,OAAO,CAACI,EAAG,CAAE,CAAC,CAClE,CAAC,EACL,CAAC,CACL,CAAC,EACL,CAAC,GApDAJ,OAAO,CAACI,EAqDb,CAAC,cAENzC,IAAA,CAAAI,SAAA,GAAI,CAGJ,CAAC,CACG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACgC,GAAG,CAAC,iBACbpC,IAAA,QAAKmC,SAAS,CAAC,6EAA6E,CAAAD,QAAA,cACxFlC,IAAA,QAAKmC,SAAS,CAAC,wCAAwC,CAAM,CAAC,CAC7D,CACR,CACJ,CACI,CAAC,CACL,CAAC,CACR,CAAC,CAEH"},"metadata":{},"sourceType":"module","externalDependencies":[]}